@using SupperSlonicWebSite.Models;

@model IList<TabWidgetModel>

@{
    ViewBag.Title = "SupperSlonic EMR";
}

<h1 class="first" id="descriptionAnchor">Description</h1>
<p>This application allows you to describe and create an <strong>Amazon EMR job flow</strong> in seconds! All you need is to create a simple properties file.<br/>
This properties file describes a job flow and is called a <strong>job flow template</strong>. It can be reused as many times as needed creating different job flow instances with a unique name (<strong>job instance name</strong>).</p>
<p>What you can describe:</p>
<ul class="check-list">
	<li>Unlimited number of custom bootstrap actions;</li>
	<li>Unlimited number of custom steps;</li>
	<li>Configuration of EC2 instances;</li>
	<li>Configuration of Hadoop;</li>
	<li>Usage and configuration of HBase;</li>
	<li>Backup/Restore of HBase any time required;</li>
	<li>Debugging mode.</li>
</ul>
@Html.Partial("DownloadExampleWidget")
<h1 id="howToUseAnchor">How to use</h1>
<ol>
	<li>Create a job flow template file;</li>
	<li>Populate a <strong>JobFlowContext object</strong>;</li>
	<li>Call a static method <strong>JobInvoker.startJob(JobFlowContext jobFlowContext)</strong>.</li>
</ol>
<h1>Job flow template example</h1>
<div class="demo" style="width:600px">
	<strong># Job Flow Descr</strong><br/>
	Name=SupperSlonic Job Flow Name<br/>
	LogUri=s3://supperSlonic/log<br/>
	SecurityKeyPair=slonic<br/>
	<br/>
	<strong># HBase Configuration</strong><br/>
	HBase.Start=true<br/>
	<br/>
	<strong># Bootstrap Actions Descr Section</strong><br/>
	BootstrapActions.M1.Name=Upload libraries<br/>
	BootstrapActions.M1.Path=s3://supperSlonic-bin/bootstrap/UploadLibraries.sh<br/>
	BootstrapActions.M1.Args.M1=arg1<br/>
	<br/>
	<strong># Steps Descr Section</strong><br/>
	Steps.M1.RestoreHBasePath=s3://supperSlonic-hbase/${jobInstance}<br/>
	<br/>
	Steps.M2.Name=Analyze Text<br/>
	Steps.M2.ActionOnFailure=CANCEL_AND_WAIT<br/>
	Steps.M2.MainClass=supperSlonic.AmazonClient.TextAnalyzer<br/>
	Steps.M2.Jar=s3://supperSlonic-bin/jar/myCode.jar<br/>
	Steps.M2.Args.M1=s3://supperSlonic-data/input/part-m-00000<br/>
	Steps.M2.Args.M2=s3://supperSlonic-data/output/${jobInstance}<br/>
	<br/>
	Steps.M3.BackupHBasePath=s3://supperSlonic-hbase/${jobInstance}<br/>
	<br/>
	Steps.M4.Name=Clean<br/>
	Steps.M4.Jar=s3://supperSlonic-bin/jar/Clean.jar<br/>
</div>
<h1 id="placeHoldersAnchor">Placeholders in a template</h1>
<p>When creating a <strong>JobFlowContext object</strong> you should specify:</p>
<ul>
	<li>A <strong>job instance name</strong>. This field is used as a marker of your job flow. You can use it in a template as a placeholder <strong>${jobInstance}</strong>.<br/>It will be automatically replaced by a builder before sending a request to AWS;</li>
	<li>An <strong>environment</strong>. This filed is used to indicate the working environment on Amazon, e.g. test, development, uat, production etc.<br/>You can use it in a template as a placeholder <strong>${awsEnviroment}</strong>.It will be automatically replaced by a builder before sending a request to AWS.</li>
</ul>
 @foreach (TabWidgetModel tabWidget in this.Model)
    { @Html.Partial("TabWidget", tabWidget) }
